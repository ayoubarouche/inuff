CREATE TABLE Administrateur (
  ID_ADMIN int NOT NULL AUTO_INCREMENT,
  USERNAME varchar(30) DEFAULT NULL,
  NOM_ADMIN varchar(20) DEFAULT NULL,
  PRENOM_ADMIN varchar(20) DEFAULT NULL,
  MDP_ADMIN varchar(40) DEFAULT NULL,
  CONSTRAINT Administrateur_PK primary key(ID_ADMIN)
) ENGINE=InnoDB ;

CREATE TABLE Enseignant (
  ID_ENSEIGNANT int NOT NULL AUTO_INCREMENT,
  NOM_ENSEIGNANT varchar(20) DEFAULT NULL,
  PRENOM_ENSEIGNANT varchar(20) DEFAULT NULL,
  MDP_ENSEIGNANT varchar(40) DEFAULT NULL,
  USERNAME varchar(30) DEFAULT NULL,
  EMAIL_ENSEIGNANT varchar(30),
  CONSTRAINT Enseignant_PK primary key(ID_ENSEIGNANT)
) ENGINE=InnoDB ;

CREATE TABLE Matiere (
  ID_MATIERE int NOT NULL AUTO_INCREMENT,
  NOM_MATIERE varchar(20) DEFAULT NULL,
  CONSTRAINT Matiere_PK primary key(ID_MATIERE)
) ENGINE=InnoDB ;

CREATE TABLE Filiere (
  ID_FILIERE int NOT NULL AUTO_INCREMENT,
  NOM_FILIERE varchar(20) DEFAULT NULL,
  NOM_FORMATION longtext,
  SEMESTRE varchar(4) DEFAULT NULL,
  CHEF_DE_FILIERE int DEFAULT NULL,
  foreign key(CHEF_DE_FILIERE) REFERENCES Enseignant(ID_ENSEIGNANT),
  CONSTRAINT Filiere_PK primary key(ID_FILIERE)
) ENGINE=InnoDB ;

CREATE TABLE Salle(
  ID_SALLE int NOT NULL AUTO_INCREMENT,
  NOM_SALLE varchar(20) DEFAULT NULL,
  NUM_SALLE int DEFAULT NULL,
  CONSTRAINT Salle_PK primary key(ID_SALLE)
) ENGINE=InnoDB ;

CREATE TABLE Affectation (
  ID_AFFECTATION int NOT NULL,
  ID_ENSEIGNANT int NOT NULL,
  ID_MATIERE int NOT NULL,
  foreign key(ID_ENSEIGNANT) REFERENCES Enseignant(ID_ENSEIGNANT),
  foreign key(ID_MATIERE) REFERENCES Matiere(ID_MATIERE),
  CONSTRAINT Affectation_PK primary key(ID_AFFECTATION)
 ) ENGINE=InnoDB ;
 
CREATE TABLE Horaire(
  ID_HORAIRE int NOT NULL AUTO_INCREMENT,
  Jour date DEFAULT NULL,
  Heure_debut date DEFAULT NULL,
  Heure_fin date DEFAULT NULL,
  CONSTRAINT Horaire_PK primary key(ID_HORAIRE)
) ENGINE=InnoDB ;

CREATE TABLE Plannings(
  ID_PLANNING int NOT NULL AUTO_INCREMENT,
  ID_AFFECTATION int NOT NULL,
  ID_FILIERE int NOT NULL,
  ID_SALLE int not NULL,
  ID_HORAIRE int NOT NULL,
  CONSTRAINT Plannings_PK primary key(ID_PLANNING),
  foreign key(ID_AFFECTATION) REFERENCES Affectation(ID_AFFECTATION),
  foreign key(ID_FILIERE) REFERENCES Filiere(ID_FILIERE),
  foreign key(ID_HORAIRE) REFERENCES Horaire(ID_HORAIRE),
  foreign key(ID_SALLE) REFERENCES Salle(ID_SALLE)
) ENGINE=InnoDB ;








